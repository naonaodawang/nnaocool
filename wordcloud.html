<!-- wordcloud.html (词云分析页面) -->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>电商大促数据分析 - 词云分析</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/d3@7.8.5/dist/d3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/wordcloud@1.1.4/wordcloud.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#f8fafc',
                        neutral: '#faad14',
                        negative: '#ff4d4f',
                        positive: '#52c41a',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .card-shadow {
                box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05);
            }
            .hover-scale {
                transition: transform 0.3s ease;
            }
            .hover-scale:hover {
                transform: scale(1.02);
            }
            .nav-active {
                @apply text-primary border-b-2 border-primary;
            }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- 顶部导航 -->
    <header class="bg-white shadow-sm sticky top-0 z-40">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fa fa-bar-chart text-primary text-2xl"></i>
                <h1 class="text-xl font-bold text-gray-800">电商大促数据分析</h1>
            </div>
            <nav>
                <ul class="flex space-x-6">
                    <li><a href="index.html" class="nav-link py-4 inline-block text-gray-600 hover:text-primary transition-colors">首页</a></li>
                    <li><a href="sentiment.html" class="nav-link py-4 inline-block text-gray-600 hover:text-primary transition-colors">情感分析</a></li>
                    <li><a href="wordcloud.html" class="nav-link py-4 inline-block text-primary border-b-2 border-primary">词云分析</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8">
        <div class="bg-white rounded-xl p-6 card-shadow hover-scale">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-800 flex items-center">
                    <i class="fa fa-tags text-primary mr-2"></i>电商大促词云分析
                </h2>
                <div class="text-sm text-gray-500">数据更新于: <span>2025-06-06</span></div>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-2 h-[500px]">
                    <div class="bg-gray-50 rounded-lg p-4 h-full relative">
                        <div id="word-cloud-container" class="w-full h-full flex items-center justify-center"></div>
                        <div id="word-tooltip" class="absolute hidden bg-white shadow-lg p-3 rounded-lg z-10 max-w-xs text-sm"></div>
                    </div>
                </div>
                
                <div class="flex flex-col justify-between">
                    <div class="bg-gray-50 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">热门话题</h3>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <span class="inline-flex items-center justify-center h-6 w-6 rounded-full bg-primary text-white text-xs font-medium mr-3">1</span>
                                    <span>攻略</span>
                                </div>
                                <div class="w-3/5 bg-gray-200 rounded-full h-2.5">
                                    <div class="bg-primary h-2.5 rounded-full" style="width: 100%"></div>
                                </div>
                                <span class="ml-3 text-sm font-medium">24</span>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <span class="inline-flex items-center justify-center h-6 w-6 rounded-full bg-primary text-white text-xs font-medium mr-3">2</span>
                                    <span>第二</span>
                                </div>
                                <div class="w-3/5 bg-gray-200 rounded-full h-2.5">
                                    <div class="bg-primary h-2.5 rounded-full" style="width: 83%"></div>
                                </div>
                                <span class="ml-3 text-sm font-medium">20</span>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <span class="inline-flex items-center justify-center h-6 w-6 rounded-full bg-primary text-white text-xs font-medium mr-3">3</span>
                                    <span>活动</span>
                                </div>
                                <div class="w-3/5 bg-gray-200 rounded-full h-2.5">
                                    <div class="bg-primary h-2.5 rounded-full" style="width: 54%"></div>
                                </div>
                                <span class="ml-3 text-sm font-medium">13</span>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <span class="inline-flex items-center justify-center h-6 w-6 rounded-full bg-primary text-white text-xs font-medium mr-3">4</span>
                                    <span>时间</span>
                                </div>
                                <div class="w-3/5 bg-gray-200 rounded-full h-2.5">
                                    <div class="bg-primary h-2.5 rounded-full" style="width: 33%"></div>
                                </div>
                                <span class="ml-3 text-sm font-medium">8</span>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <span class="inline-flex items-center justify-center h-6 w-6 rounded-full bg-primary text-white text-xs font-medium mr-3">5</span>
                                    <span>汇总</span>
                                </div>
                                <div class="w-3/5 bg-gray-200 rounded-full h-2.5">
                                    <div class="bg-primary h-2.5 rounded-full" style="width: 25%"></div>
                                </div>
                                <span class="ml-3 text-sm font-medium">6</span>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <span class="inline-flex items-center justify-center h-6 w-6 rounded-full bg-gray-200 text-gray-800 text-xs font-medium mr-3">6</span>
                                    <span>消费</span>
                                </div>
                                <div class="w-3/5 bg-gray-200 rounded-full h-2.5">
                                    <div class="bg-primary h-2.5 rounded-full" style="width: 25%"></div>
                                </div>
                                <span class="ml-3 text-sm font-medium">6</span>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <span class="inline-flex items-center justify-center h-6 w-6 rounded-full bg-gray-200 text-gray-800 text-xs font-medium mr-3">7</span>
                                    <span>第三</span>
                                </div>
                                <div class="w-3/5 bg-gray-200 rounded-full h-2.5">
                                    <div class="bg-primary h-2.5 rounded-full" style="width: 25%"></div>
                                </div>
                                <span class="ml-3 text-sm font-medium">6</span>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <span class="inline-flex items-center justify-center h-6 w-6 rounded-full bg-gray-200 text-gray-800 text-xs font-medium mr-3">8</span>
                                    <span>京东</span>
                                </div>
                                <div class="w-3/5 bg-gray-200 rounded-full h-2.5">
                                    <div class="bg-primary h-2.5 rounded-full" style="width: 25%"></div>
                                </div>
                                <span class="ml-3 text-sm font-medium">6</span>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <span class="inline-flex items-center justify-center h-6 w-6 rounded-full bg-gray-200 text-gray-800 text-xs font-medium mr-3">9</span>
                                    <span>凑单</span>
                                </div>
                                <div class="w-3/5 bg-gray-200 rounded-full h-2.5">
                                    <div class="bg-primary h-2.5 rounded-full" style="width: 21%"></div>
                                </div>
                                <span class="ml-3 text-sm font-medium">5</span>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <span class="inline-flex items-center justify-center h-6 w-6 rounded-full bg-gray-200 text-gray-800 text-xs font-medium mr-3">10</span>
                                    <span>优惠</span>
                                </div>
                                <div class="w-3/5 bg-gray-200 rounded-full h-2.5">
                                    <div class="bg-primary h-2.5 rounded-full" style="width: 17%"></div>
                                </div>
                                <span class="ml-3 text-sm font-medium">4</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-gray-50 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">分析摘要</h3>
                        <p class="text-gray-600">从词云分析结果可以看出，"攻略"、"活动"、"时间"、"优惠"等词汇出现频率较高，说明消费者在大促期间最关注活动规则、时间安排以及优惠力度。此外，"京东"、"淘宝"等平台名称，以及"手机"、"家电"等品类词也较为突出，反映出消费者的主要购物平台和关注品类。</p>
                    </div>
                    
                    <div class="bg-gray-50 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">词云说明</h3>
                        <ul class="text-gray-600 space-y-2">
                            <li class="flex items-start">
                                <i class="fa fa-circle text-xs text-primary mt-1.5 mr-2"></i>
                                <span>字体大小反映词汇出现频率</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fa fa-circle text-xs text-primary mt-1.5 mr-2"></i>
                                <span>悬停在词汇上可查看具体频次</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fa fa-circle text-xs text-primary mt-1.5 mr-2"></i>
                                <span>数据来源：社交媒体平台公开讨论</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-gray-800 text-white py-8 mt-12">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <h3 class="text-lg font-semibold">电商大促数据分析平台</h3>
                    <p class="text-gray-400 text-sm mt-1">基于AI的社交媒体内容洞察</p>
                </div>
                <div class="flex space-x-4">
                    <a href="#" class="text-gray-400 hover:text-white transition-colors">
                        <i class="fa fa-github text-xl"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-white transition-colors">
                        <i class="fa fa-twitter text-xl"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-white transition-colors">
                        <i class="fa fa-linkedin text-xl"></i>
                    </a>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-6 pt-6 text-center text-gray-400 text-sm">
                © 2025 电商大促数据分析平台 | 由AI提供支持
            </div>
        </div>
    </footer>

    <script>
        // 词云数据
        const wordCloudData = [
            { word: '攻略', value: 24 },
            { word: '第二', value: 20 },
            { word: '活动', value: 13 },
            { word: '时间', value: 8 },
            { word: '汇总', value: 6 },
            { word: '消费', value: 6 },
            { word: '第三', value: 6 },
            { word: '京东', value: 6 },
            { word: '凑单', value: 5 },
            { word: '优惠', value: 4 },
            { word: '淘宝', value: 4 },
            { word: '到底', value: 4 },
            { word: '玩法', value: 4 },
            { word: '使用', value: 4 },
            { word: '便宜', value: 4 },
            { word: '考研', value: 4 },
            { word: '清单', value: 3 },
            { word: '购物', value: 3 },
            { word: '详细', value: 3 },
            { word: '什么', value: 3 },
            { word: '完整', value: 3 },
            { word: '更新', value: 3 },
            { word: '力度', value: 3 },
            { word: '大促', value: 3 },
            { word: '一图', value: 3 },
            { word: '预售', value: 3 },
            { word: '手机', value: 3 },
            { word: '今年', value: 3 },
            { word: '分享', value: 3 },
            { word: '普通人', value: 2 },
            { word: '揭秘', value: 2 },
            { word: '女大', value: 2 },
            { word: '买手机', value: 2 },
            { word: '小米', value: 2 },
            { word: '立减', value: 2 },
            { word: '一共', value: 2 },
            { word: '开始', value: 2 },
            { word: '斐乐', value: 2 },
            { word: '价位', value: 2 },
            { word: '机制', value: 2 },
            { word: '确定', value: 2 },
            { word: '狂欢', value: 2 },
            { word: '真正', value: 2 },
            { word: '内附', value: 2 },
            { word: '值得', value: 2 },
            { word: '国补', value: 2 },
            { word: '全攻略', value: 2 },
            { word: '超全', value: 2 },
            { word: '作业', value: 2 },
            { word: '大学生', value: 2 },
            { word: '淘汰', value: 1 },
            { word: '碰上', value: 1 },
            { word: 'pro', value: 1 },
            { word: '幸福', value: 1 },
            { word: '求拉', value: 1 },
            { word: '浪费', value: 1 },
            { word: '直接', value: 1 },
            { word: '羊毛', value: 1 },
            { word: '买齐', value: 1 },
            { word: '东西', value: 1 },
            { word: '统统', value: 1 },
            { word: '重要', value: 1 },
            { word: '购课', value: 1 },
            { word: '公开', value: 1 },
            { word: '自用', value: 1 },
            { word: '时间段', value: 1 },
            { word: '上岸', value: 1 },
            { word: '空前', value: 1 },
            { word: '家电', value: 1 },
            { word: '规则', value: 1 },
            { word: '不停', value: 1 },
            { word: '店员', value: 1 },
            { word: '极限', value: 1 },
            { word: '三轮', value: 1 },
            { word: '锐评', value: 1 },
            { word: '至本', value: 1 },
            { word: '狂欢节', value: 1 },
            { word: '狂热', value: 1 },
            { word: '来袭', value: 1 },
            { word: '李佳琦', value: 1 },
            { word: '维密', value: 1 },
            { word: '睡衣', value: 1 },
            { word: '左右', value: 1 },
            { word: '必须', value: 1 },
            { word: '购入', value: 1 },
            { word: 'NB', value: 1 },
            { word: '系列', value: 1 },
            { word: '细说', value: 1 },
            { word: '意义', value: 1 },
            { word: '开启', value: 1 },
            { word: '隐藏', value: 1 },
            { word: '现在', value: 1 },
            { word: '消息', value: 1 },
            { word: '干货', value: 1 },
            { word: '今晚', value: 1 },
            { word: '时候', value: 1 },
            { word: '解答', value: 1 },
            { word: '五个', value: 1 },
            { word: '问题', value: 1 },
            { word: '看看', value: 1 },
            { word: '今天', value: 1 },
            { word: '极致', value: 1 },
            { word: '已出', value: 1 },
            { word: '荣耀', value: 1 },
            { word: 'magic', value: 1 },
            { word: '最低价', value: 1 },
            { word: '真的', value: 1 },
            { word: '有点', value: 1 },
            { word: '超出', value: 1 },
            { word: '预期', value: 1 },
            { word: '完后', value: 1 },
            { word: '购物车', value: 1 },
            { word: '三波', value: 1 },
            { word: '指南', value: 1 },
            { word: '前面', value: 1 },
            { word: '没买', value: 1 },
            { word: '好价', value: 1 },
            { word: '一定', value: 1 },
            { word: '抓住', value: 1 },
            { word: '已经', value: 1 },
            { word: '一览表', value: 1 },
            { word: '这篇', value: 1 },
            { word: '告诉', value: 1 },
            { word: '哪一天', value: 1 },
            { word: '贫穷', value: 1 },
            { word: '女大版', value: 1 },
            { word: '适合', value: 1 },
            { word: '最佳', value: 1 },
            { word: '购机', value: 1 },
            { word: '波看', value: 1 },
            { word: '更大', value: 1 },
            { word: '对比', value: 1 },
            { word: '推荐', value: 1 },
            { word: '终版', value: 1 },
            { word: '还是', value: 1 },
            { word: '哪些', value: 1 },
            { word: '千万别', value: 1 },
            { word: '分析', value: 1 },
            { word: '高数', value: 1 },
            { word: '大手笔', value: 1 },
            { word: '天猫', value: 1 },
            { word: '超市', value: 1 },
            { word: '简单', value: 1 },
            { word: '低价', value: 1 },
            { word: '怎么', value: 1 },
            { word: '买不贵', value: 1 },
            { word: '我滴个', value: 1 },
            { word: '节点', value: 1 },
            { word: '真香', value: 1 },
            { word: '研究生', value: 1 },
            { word: '之买', value: 1 },
            { word: '整理', value: 1 },
            { word: '宝们', value: 1 },
            { word: '看过', value: 1 },
            { word: '猫爪', value: 1 },
            { word: '最全', value: 1 },
            { word: '版本', value: 1 },
            { word: '技巧', value: 1 },
            { word: '冷静', value: 1 },
            { word: '那一波', value: 1 },
            { word: '波茵曼', value: 1 },
            { word: '服饰', value: 1 },
            { word: '教程', value: 1 },
            { word: '长期', value: 1 },
            { word: '主义', value: 1 },
            { word: '提个醒', value: 1 },
            { word: '必买', value: 1 },
            { word: '连夜', value: 1 },
            { word: '方法', value: 1 },
            { word: '尾款', value: 1 },
            { word: '买好', value: 1 },
            { word: '满意', value: 1 },
            { word: '确实', value: 1 },
            { word: '节奏', value: 1 },
            { word: '三步', value: 1 },
            { word: '省下', value: 1 },
            { word: '百元', value: 1 },
            { word: '几种', value: 1 },
            { word: '不要', value: 1 },
            { word: '等等', value: 1 },
            { word: 'iphone', value: 1 },
            { word: '超大', value: 1 },
            { word: '大全', value: 1 },
            { word: '利用', value: 1 },
            { word: '赶紧', value: 1 },
            { word: '需要', value: 1 }
        ];

        // 初始化词云
        document.addEventListener('DOMContentLoaded', () => {
            try {
                const container = document.getElementById('word-cloud-container');
                const tooltip = document.getElementById('word-tooltip');
                
                // 清空容器
                container.innerHTML = '';
                
                // 准备词云数据
                const data = wordCloudData.map(item => [item.word, item.value]);
                
                // 生成随机颜色
                const colors = d3.scaleOrdinal(d3.quantize(d3.interpolateHcl('#3b82f6', '#10b981'), 10));
                
                // 创建词云
                WordCloud(container, {
                    list: data,
                    fontFamily: 'Inter, sans-serif',
                    fontSizes: [12, 60],
                    color: (word, weight, fontSize, distance, theta) => colors(word),
                    backgroundColor: 'transparent',
                    gridSize: 8,
                    origin: null,
                    drawOutOfBound: false,
                    shrinkToFit: true,
                    rotateRatio: 0.4,
                    minRotation: -Math.PI / 2,
                    maxRotation: Math.PI / 2,
                    ellipticity: 0.65,
                    
                    // 悬停事件
                    hover: (item, dimension, event) => {
                        if (item) {
                            const [word, value] = item;
                            tooltip.innerHTML = `
                                <div class="font-medium">${word}</div>
                                <div class="text-gray-500">频次: ${value}</div>
                            `;
                            
                            // 定位提示框
                            tooltip.style.left = `${event.clientX + 10}px`;
                            tooltip.style.top = `${event.clientY + 10}px`;
                            tooltip.classList.remove('hidden');
                        }
                    },
                    
                    // 离开事件
                    leave: () => {
                        tooltip.classList.add('hidden');
                    }
                });
            } catch (error) {
                console.error('初始化词云失败:', error);
                document.getElementById('word-cloud-container').innerHTML = `
                    <div class="flex items-center justify-center h-full text-gray-500">
                        <i class="fa fa-exclamation-triangle mr-2"></i> 词云加载失败，请刷新页面
                    </div>
                `;
            }
        });
    </script>
</body>
</html>
